"use strict";var __awaiter=this&&this.__awaiter||function(t,s,i,u){return new(i=i||Promise)(function(e,n){function r(t){try{o(u.next(t))}catch(t){n(t)}}function a(t){try{o(u.throw(t))}catch(t){n(t)}}function o(t){var n;t.done?e(t.value):((n=t.value)instanceof i?n:new i(function(t){t(n)})).then(r,a)}o((u=u.apply(t,s||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformPattern=void 0;const Constant_1=require("../constant/Constant"),ValidatePattern_1=require("./ValidatePattern"),transformPattern1=t=>{var n=new RegExp(/(-| )/g);return t.replace(n,"")},transformPattern2=(t,n=Constant_1.Phone.Separator,e=Constant_1.Phone.Index)=>{return t.substring(0,e)+n+t.substring(e)},transformPattern=r=>__awaiter(void 0,void 0,void 0,function*(){let t=r.countryCodeIncluded?(0,ValidatePattern_1.initialPattern)(r.phone):"";var n=r.phone.replace(t,"");t=null!=r.countryCode?r.countryCode:2<=t.length?t:Constant_1.Phone.CountryCode;let e="";switch(Number(r.type)){case 1:e=transformPattern1(n);break;case 2:e=transformPattern2(n,r.separator,r.index)}return e=t+e,e});exports.transformPattern=transformPattern;
"use strict";var __awaiter=this&&this.__awaiter||function(t,i,s,c){return new(s=s||Promise)(function(e,n){function r(t){try{o(c.next(t))}catch(t){n(t)}}function a(t){try{o(c.throw(t))}catch(t){n(t)}}function o(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(t){t(n)})).then(r,a)}o((c=c.apply(t,i||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.transformSinglePattern=exports.checkAllIndianPatterns=exports.checkOnePattern=exports.phonePatternInfo=void 0;const Constant_1=require("../constant/Constant"),TransformPattern_1=require("./TransformPattern"),ValidatePattern_1=require("./ValidatePattern"),phonePatternInfo=(t,n)=>__awaiter(void 0,void 0,void 0,function*(){n.send(Constant_1.Phone.BasicInfo)}),checkOnePattern=(exports.phonePatternInfo=phonePatternInfo,(n,e)=>__awaiter(void 0,void 0,void 0,function*(){var t=n.body,t=!!(yield(0,ValidatePattern_1.checkPattern)(t.phone,!0))||Constant_1.ErrorMessageStatus.INVALID_NUMBER;e.send(t)})),checkAllIndianPatterns=(exports.checkOnePattern=checkOnePattern,(r,a)=>__awaiter(void 0,void 0,void 0,function*(){const t=[];for(const e of r.body){var n=!!(yield(0,ValidatePattern_1.checkPattern)(e.phone,!0))||Constant_1.ErrorMessageStatus.INVALID_NUMBER;t.push(n)}a.send(t)})),transformSinglePattern=(exports.checkAllIndianPatterns=checkAllIndianPatterns,(n,e)=>__awaiter(void 0,void 0,void 0,function*(){var t=n.body;if(yield(0,ValidatePattern_1.checkPattern)(t.phone,!0))return t=yield(0,TransformPattern_1.transformPattern)(t),void e.send(t);e.status(500).send(Constant_1.ErrorMessageStatus.NOT_VALID_PATTERN)}));exports.transformSinglePattern=transformSinglePattern;
"use strict";var __awaiter=this&&this.__awaiter||function(e,o,d,l){return new(d=d||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function a(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof d?t:new d(function(e){e(t)})).then(i,a)}r((l=l.apply(e,o||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.indianPatternInfo=exports.checkAllIndianPatterns=exports.checkOnePattern=void 0;let validationResult=e=>{let t=[];return e.forEach(e=>{e.country&&2<=e.country.length||t.push("Country Name is invalid."),e.phone&&7<=e.phone.length||t.push("Phone number is invalid.")}),t},validateAllTypesPattern=e=>__awaiter(void 0,void 0,void 0,function*(){return(yield basicPhoneNumberPattern(e))||(yield indianPattern1(e))||(yield indianPattern2(e))||(yield indianPattern3(e))||(yield indianPattern4(e))}),indianPatternInfo=(e,t)=>__awaiter(void 0,void 0,void 0,function*(){t.send("Mobile Number Format: [+][country code][area code][local phone number]\nCountry Code: 91\nArea Code: Between 2 to 4\nLocal Phone Number: 6 to 8\nExample: 9760064000, +91-9760064000, 919760064000, +91-(976)0064000, +91-(976)006-4000")}),initialPattern=(exports.indianPatternInfo=indianPatternInfo,e=>{var t=new RegExp(/^[+]?((91-)|(91))?(-| |)?/),e=e.match(t);return null!=e?e[0]:""}),pattern1=e=>new RegExp(/^[\d]{10}$/).test(e),checkPattern=(t,n=!1)=>__awaiter(void 0,void 0,void 0,function*(){if(t.length<8)return!1;var e=n?initialPattern(t):"";return pattern1(t.replace(e,""))}),basicPhoneNumberPattern=t=>__awaiter(void 0,void 0,void 0,function*(){let e=new RegExp(/^([+]?((91)|(91-))?[\d]{10})*$/);return e.test(t)}),indianPattern1=t=>__awaiter(void 0,void 0,void 0,function*(){let e=new RegExp(/^([+]?((91)|(91-))?)?[\d]{2}-[\d]{8}$/);return e.test(t)}),indianPattern2=t=>__awaiter(void 0,void 0,void 0,function*(){let e=new RegExp(/^([+]?((91)|(91-))?)?[\d]{3}-[\d]{7}$/);return e.test(t)}),indianPattern3=t=>__awaiter(void 0,void 0,void 0,function*(){let e=new RegExp(/^([+]?((91)|(91-))?)?[\d]{4}-[\d]{6}$/);return e.test(t)}),indianPattern4=t=>__awaiter(void 0,void 0,void 0,function*(){let e=new RegExp(/^([+]?((91)|(91-))?(-| |)?)?\([\d]{3}\)(-| |)?[\d]{3}(-| |)?[\d]{4}$/);return e.test(t)}),checkAllIndianPatterns=(i,a)=>__awaiter(void 0,void 0,void 0,function*(){var t=i.body,e=validationResult(t);if(0<e.length)a.status(500).send(e);else{let e=[];for(var n of t)e.push(yield validateAllTypesPattern(n.phone));a.send(e)}}),checkOnePattern=(exports.checkAllIndianPatterns=checkAllIndianPatterns,(i,a)=>__awaiter(void 0,void 0,void 0,function*(){var t=[i.body],e=validationResult(t);if(0<e.length)a.status(500).send(e);else{let e=[];for(var n of t)e.push(yield checkPattern(n.phone,!0));a.send(e)}}));exports.checkOnePattern=checkOnePattern;